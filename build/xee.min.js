"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var XEE=function(e){var t=function(){function e(){_classCallCheck(this,e),this._events=Object.create(null)}return _createClass(e,[{key:"on",value:function(e,t){var n=this._events[e];return this._events[e]="function"==typeof n?[n,t]:n?this._arrayCloneWith(n,n.length,t):t,this}},{key:"once",value:function(e,t){return this.on(e,function n(){n.fired||(this.off(e,n),n.fired=!0,t.apply(this,arguments))})}},{key:"off",value:function(e,t){var n=arguments.length;if(!n)return this._events=Object.create(null),this;var r=this._events[e];if(1===n)return delete this._events[e],this;if("function"==typeof r)return r===t&&delete this._events[e],this;var i=r&&r.length;return i?(1===i?r[0]===t&&delete this._events[e]:2===i?r[0]===t?this._events[e]=r[1]:r[1]===t&&(this._events[e]=r[0]):r.indexOf(t)>=0&&(this._events[e]=this._arrayCloneWithout(r,i,t)),this):this}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._events[e];if(!i){if("error"===e){var a=arguments[1];if(a instanceof Error)throw a;var o=new Error('Unhandled "error" event. ('+a+")");throw o.context=a,o}return!1}if("function"==typeof i)i.apply(this,n);else for(var s=0,u=i.length;s<u;++s)i[s].apply(this,n);return!0}},{key:"listenerCount",value:function(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}},{key:"_arrayCloneWithout",value:function(e,t,n){for(var r=new Array(t-1),i=void 0,a=0,o=!1;t--;)i=e[t],o||n!==i?(r[a]=i,++a):o=!0;return r}},{key:"_arrayCloneWith",value:function(e,t,n){var r=new Array(t+1);for(r[t]=n;t--;)r[t]=e[t];return r}}]),e}();return t}();